# ■１ドライブでのファイルコピーツール【1FdCopy.X】
- Version: 0.10
- Date   : 2023/06/17

本コマンドは、通常２ドライブ使用して行うＦＤ間のファイルコピーを１ドライブで行う為のものです。用途としては、同人ソフトの起動ディスク作成を想定しています。

＜例＞
- ドライブＡ：無償公開版のシステムディスク
- ドライブＢ：ＯＳを含まないソフト（同人ソフトのゲームディスク等）

上記のような状態で、あらかじめ準備したブランクディスクにＯＳその他起動に必要なファイルを転送する為のものです。大まかな流れとして、

1. Ａドライブのシステムディスクから対象となるファイルをメインメモリ上にコピー
2. システムディスクをブランクディスクに交換(該当FDをイジェクトしてブランクディスク挿入を待ちます。ブランクでないディスクを挿入すると入れ替えを要求します。)
3. メモリ上のファイル群をブランクディスクにコピー

までをこのコマンドで実施できます。続いて

4. Ｂドライブから、必要なファイルをＡドライブにコピー

これはCOMMAND.Xの内部コマンドであるCOPYコマンドで実施できますから、別途コピー用のバッチファイル等を準備する事で対応可能と考えています。

## ■使用方法
このコマンドは以下のオプションを想定しています。

/F <ConfigFileName>
  
   コピー対象ファイル群を記載した設定ファイルを指定します。
   フルPath指定で指定しますが、ファイル名のみ記載した場合には本コマンドと同じディレクトリ内を検索します。
   また、このオプションを指定しなかった場合にはデフォルト値として「targetlist.cnf」が採用されます。

<Drive>
  
   コピー対象となるドライブ名を指定します。（必須）
   媒体種別がFD以外のドライブを指定するとエラーとなります。

/H
  
   簡単なヘルプメッセージを表示します。

## ■使用例
  
以下に、使用例を記載します。

＜例１＞
  
1FdCopy /f c:\temp\test.cnf b:
  
この例では、「c:\temp\test.cnf」を設定ファイルとして、Ｂドライブでのコピーを行います。

＜例２＞
  
1FdCopy a:

  この例では、デフォルトの設定ファイル「targetlist.cnf」を使用して、Ａドライブでのコピーを行います。

＜例３＞
  
1FdCopy /f test.cnf b:
  
この例では、コマンドと同じディレクトリの設定ファイル「test.cnf」を使用して、Ｂドライブでのコピーを行います。

## ■設定ファイル
  
設定ファイルにはコピー対象のファイルをルートディレクトリからのフルPathで記載します。
その際、ドライブ名は記載しないで下さい。ドライブ名はオプションで指定されたものを使用します。
行頭が「#」の行はコメントとなり無視されます。

＜記載例＞
```
#コメント行
\human.sys
\command.x
\sys\float2.x
\sys\hiocs.x
\sys\sub\sample.txt
\temp\sub1\sub2\sub3\test.txt
```

この例では、以下の６ファイルをコピーしています。
1. human.sys
2. command.
3. sysディレクトリ内のfloat2.x
4. sysディレクトリ内のhiocs.x
5. sys\subディレクトリ内のsample.txt
6. temp\sub1\sub2\sub3ディレクトリ内のtest.txt

## ■注意点
システムファイルである「human.sys」をコピーする場合は、必ずリストの最初に記載して下さい。
human.sysはディスクの先頭セクタに書き込まないと機能しません。
